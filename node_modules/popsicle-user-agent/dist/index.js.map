{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;AAEA;;GAEG;AACU,QAAA,kBAAkB,GAC7B,iDAAiD,CAAC;AAEpD;;GAEG;AACH,SAAgB,SAAS,CACvB,SAAS,GAAG,0BAAkB;IAE9B,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;QACnB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;YAClC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;SAC1C;QAED,OAAO,IAAI,EAAE,CAAC;IAChB,CAAC,CAAC;AACJ,CAAC;AAVD,8BAUC","sourcesContent":["import { CommonRequest, CommonResponse } from \"servie/dist/common\";\n\n/**\n * Default `user-agent` header.\n */\nexport const DEFAULT_USER_AGENT =\n  \"Popsicle (https://github.com/serviejs/popsicle)\";\n\n/**\n * Set a `User-Agent` header for every request.\n */\nexport function userAgent<T extends CommonRequest, U extends CommonResponse>(\n  userAgent = DEFAULT_USER_AGENT\n): (req: T, next: () => Promise<U>) => Promise<U> {\n  return (req, next) => {\n    if (!req.headers.has(\"User-Agent\")) {\n      req.headers.set(\"User-Agent\", userAgent);\n    }\n\n    return next();\n  };\n}\n"]}